import{e as E,u as h,f as s,r,o as p,c as V,a as n,b as u,w as m,g as y,d as _,t as D,h as S,i as B,j as N}from"./index.438ae0bc.js";import{_ as j}from"./strategio.04befae5.js";const k={class:"d-flex justify-center align-center w-100 h-100 bg-gradient-blue"},C={class:"w-100 position-relative",style:{"max-width":"450px"}},U=n("div",{class:"text-center position-absolute",style:{right:"20px",bottom:"-30px"}},[n("img",{src:j,height:"100",width:"100",alt:"Strategio SaaS"})],-1),F={class:"w-100 pa-10",style:{"border-radius":".3rem","background-color":"rgba(255,255,255,0.97)"}},H=n("h1",null,"P\u0159ihl\xE1\u0161en\xED",-1),A=E({__name:"Login",setup(L){const x=h(),i=s(!1),d=s(),l=s(),c=s({email:[e=>!!e||"E-mail je povinn\xFD",e=>/.+@.+/.test(e)||"E-mail nen\xED validn\xED "],password:[e=>!!e||"Heslo je povinn\xE9"]}),a=s({email:"",password:""});async function f(){if(d.value){i.value=!0,l.value="";const e=await N.auth.adminLoginByEmail(a.value.email,a.value.password);e.success?e.data.user_role!=="admin"?l.value="Nedostate\u010Dn\xE9 opr\xE1vn\u011Bn\xED.":await x.push({name:"Collections"}):(console.error(e.errors),l.value="Nespr\xE1vn\xE9 p\u0159ihla\u0161ov\xE1cac\xED \xFAdaje."),i.value=!1}}return(e,o)=>{const v=r("v-text-field"),b=r("v-alert"),g=r("v-btn"),w=r("v-form");return p(),V("div",k,[n("div",C,[U,n("div",F,[u(w,{"validate-on":"blur",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=t=>d.value=t),ref:"form",onSubmit:B(f,["prevent"])},{default:m(()=>[H,u(v,{label:"E-mail",modelValue:a.value.email,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.email=t),rules:c.value.email},null,8,["modelValue","rules"]),u(v,{type:"password",label:"Heslo",modelValue:a.value.password,"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.password=t),rules:c.value.password},null,8,["modelValue","rules"]),l.value?(p(),y(b,{key:0,color:"error",icon:"$info",class:"mb-5"},{default:m(()=>[_(D(l.value),1)]),_:1})):S("",!0),u(g,{type:"submit",size:"large",color:"warning",loading:i.value,disabled:i.value},{default:m(()=>[_(" P\u0159ihl\xE1sit se ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue","onSubmit"])])])])}}});export{A as default};
