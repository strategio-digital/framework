import{e as h,u as E,f as t,r,o as v,c as V,a as s,b as u,w as m,g as y,d as _,t as S,h as D,i as j,j as k}from"./index.9d79e8e3.js";import{_ as B}from"./strategio.04befae5.js";const C={class:"d-flex justify-center align-center w-100 h-100 bg-gradient-blue"},N={class:"w-100 position-relative",style:{"max-width":"450px"}},U=s("div",{class:"text-center position-absolute",style:{right:"20px",bottom:"-30px"}},[s("img",{src:B,height:"100",width:"100",alt:"Strategio SaaS"})],-1),F={class:"w-100 pa-10",style:{"border-radius":".3rem","background-color":"rgba(255,255,255,0.97)"}},H=s("h1",null,"P\u0159ihl\xE1\u0161en\xED",-1),A=h({__name:"Login",setup(L){const f=E(),n=t(!1),d=t(),i=t(),c=t({email:[e=>!!e||"E-mail je povinn\xFD",e=>/.+@.+/.test(e)||"E-mail nen\xED validn\xED "],password:[e=>!!e||"Heslo je povinn\xE9"]}),a=t({email:"",password:""});async function x(){if(d.value){n.value=!0,i.value="";const e=await k.auth.adminLoginByEmail(a.value.email,a.value.password);e.success&&e.data.user_role==="admin"?await f.push({name:"Collections"}):(console.error(e.errors),i.value="Nespr\xE1vn\xE9 p\u0159ihla\u0161ov\xE1cac\xED \xFAdaje."),n.value=!1}}return(e,o)=>{const p=r("v-text-field"),b=r("v-alert"),g=r("v-btn"),w=r("v-form");return v(),V("div",C,[s("div",N,[U,s("div",F,[u(w,{"validate-on":"blur",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),ref:"form",onSubmit:j(x,["prevent"])},{default:m(()=>[H,u(p,{label:"E-mail",modelValue:a.value.email,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value.email=l),rules:c.value.email},null,8,["modelValue","rules"]),u(p,{type:"password",label:"Heslo",modelValue:a.value.password,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.password=l),rules:c.value.password},null,8,["modelValue","rules"]),i.value?(v(),y(b,{key:0,color:"error",icon:"$info",class:"mb-5"},{default:m(()=>[_(S(i.value),1)]),_:1})):D("",!0),u(g,{type:"submit",size:"large",color:"warning",loading:n.value,disabled:n.value},{default:m(()=>[_(" P\u0159ihl\xE1sit se ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue","onSubmit"])])])])}}});export{A as default};
